> *You are here: README file for simple_micro_campus_network in cpt-projects.*
>
> Note before reading:
>
> 1. The content of the README is written in **Simplified Chinese**.
>
> 2. Due to limited ability and time, mistakes are inevitable in the project. I would be most grateful if you could share your insights with me or point out any mistakes!

### 一、快速介绍

1. 项目名称：**基于三层网络架构的简单微型园区网的构建**

2. 功能与服务：广播域隔离，VLAN间路由，DHCP服务，全网连通性验证，RIP，NAT，ACL，DNS，WEB，FTP。

### 二、设备列表与拓扑

|类别|型号|数量|备注|
|:---:|:---:|:---:|:---:|
|计算机|PC-PT|8|暂无|
|服务器|Server-PT|3|暂无|
|二层交换机|2960-24TT|5|暂无|
|三层交换机|3560-24PS|3|暂无|
|路由器|1941|2|暂无|

![拓扑图](topo.png)

### 三、设备配置

#### 1. 接入层设备配置

|名称|型号|所属|接口模式与VLAN|
|:---:|:---:|:---:|:---:|
|SW1|2960-24TT|部门A|Fa0/1 `Access` VLAN10<br>Fa0/2 `Access` VLAN10<br>Fa0/3 `Trunk` Default|
|SW2|2960-24TT|部门B|Fa0/1 `Access` VLAN20<br>Fa0/2 `Access` VLAN20<br>Fa0/3 `Trunk` Default|
|SW3|2960-24TT|部门C|Fa0/1 `Access` VLAN30<br>Fa0/2 `Access` VLAN30<br>Fa0/3 `Trunk` Default|
|SW4|2960-24TT|部门D|Fa0/1 `Access` VLAN40<br>Fa0/2 `Access` VLAN40<br>Fa0/3 `Trunk` Default|

#### 2. 汇聚层设备配置

a. 交换虚拟接口配置

|名称|型号|接口与IP配置|
|:---:|:---:|:---:|
|M-SW1|3560-24PS|VLAN10虚拟接口`192.168.10.254/24`<br>VLAN20虚拟接口`192.168.20.254/24`|
|M-SW2|3560-24PS|VLAN30虚拟接口`192.168.30.254/24`<br>VLAN40虚拟接口`192.168.40.254/24`|

b. DHCP配置

|名称|地址池|网络地址|默认网关|DNS服务器|
|:---:|:---:|:---:|:---:|:---:|
|M-SW1|VLAN10|192.168.10.0/24|192.168.10.254|192.168.50.1|
|M-SW1|VLAN20|192.168.20.0/24|192.168.20.254|192.168.50.1|
|M-SW2|VLAN30|192.168.30.0/24|192.168.30.254|192.168.50.1|
|M-SW2|VLAN40|192.168.40.0/24|192.168.40.254|192.168.50.1|

c. 特定接口的IP配置

|名称|接口|IP地址|
|:---:|:---:|:---:|
|M-SW1|Fa0/3|192.168.1.1/30|
|M-SW2|Fa0/3|192.168.2.1/30|

d. RIP配置

|名称|协议|直连网络|自动汇总|
|:---:|:---:|:---:|:---:|
|M-SW1|RIPv2|192.168.1.0<br>192.168.10.0<br>192.168.20.0|否|
|M-SW2|RIPv2|192.168.2.0<br>192.168.30.0<br>192.168.40.0|否|

e. 默认路由配置

|名称|目的网络|下一跳地址|
|:---:|:---:|:---:|
|M-SW1|0.0.0.0/0|192.168.1.2|
|M-SW2|0.0.0.0/0|192.168.2.2|

#### 3. 核心层设备配置

a. 交换虚拟接口配置

|名称|型号|接口与IP配置|
|:---:|:---:|:---:|
|M-SW3|3560-24PS|VLAN50虚拟接口`192.168.50.254/24`|

b. 特定接口的IP配置

|名称|接口|IP地址|
|:---:|:---:|:---:|
|M-SW3|Fa0/1|192.168.1.2/30|
|M-SW3|Fa0/2|192.168.2.2/30|
|M-SW3|Fa0/4|192.168.3.1/30|

c. RIP配置

|名称|协议|直连网络|自动汇总|
|:---:|:---:|:---:|:---:|
|M-SW3|RIPv2|192.168.1.0<br>192.168.2.0<br>192.168.3.0<br>192.168.50.0|否|

d. 默认路由配置

|名称|目的网络|下一跳地址|
|:---:|:---:|:---:|
|M-SW3|0.0.0.0/0|192.168.3.2|

e. 二层交换机配置

|名称|型号|所属|接口模式与VLAN|
|:---:|:---:|:---:|:---:|
|SW5|2960-24TT|信息中心|Fa0/1 `Access` VLAN50<br>Fa0/2 `Access` VLAN50<br>Fa0/3 `Trunk` Default|

f. 服务器配置

|名称|型号|所属|服务|IP配置|默认网关|
|:---:|:---:|:---:|:---:|:---:|:---:|
|Server2|Server-PT|信息中心|DNS|192.168.50.1/24|192.168.50.254|
|Server3|Server-PT|信息中心|WEB<br>FTP|192.168.50.2/24|192.168.50.254|

|名称|服务|NAME|TYPE|DETAIL|
|:---:|:---:|:---:|:---:|:---:|
|Server2|DNS|ftp.ray.com<br>web.ray.com<br>www.ray.cn|A<br>A<br>A|192.168.50.2<br>192.168.50.2<br>112.39.123.162|

#### 4. 园区设备配置

a. 路由器接口IP配置

|名称|型号|接口|IP地址|
|:---:|:---:|:---:|:---:|
|R1|1941|Gig0/0<br>Se0/0/0|192.168.3.2/30<br>200.1.1.1/30|

b. RIP配置

|名称|协议|直连网络|自动汇总|
|:---:|:---:|:---:|:---:|
|R1|RIPv2|192.168.3.0<br>200.1.1.0|否|

c. 默认路由配置

|名称|目的网络|下一跳地址|
|:---:|:---:|:---:|
|R1|0.0.0.0/0|200.1.1.2|

d. NAT与ACL配置

|名称|内部接口|外部接口|转换的私有地址|公有地址(池)|
|:---:|:---:|:---:|:---:|:---:|
|R1|Gig0/0|Se0/0/0|192.168.10.0/24<br>192.168.20.0/24<br>192.168.30.0/24<br>192.168.40.0/24|200.1.1.1/30|

#### 5. ISP设备配置

|名称|型号|接口|IP地址|
|:---:|:---:|:---:|:---:|
|R2|1941|Gig0/0<br>Se0/0/0|112.39.123.254/24<br>200.1.1.2/30|

#### 6. Internet中某WEB服务器的配置

|名称|型号|IP地址|默认网关|
|:---:|:---:|:---:|:---:|
|Server1|Server-PT|112.39.123.162/24|112.39.123.254|

### 四、测试

详见[测试结果（test_results.md）](test_results.md)。

### 五、运行

查阅[思科网络学院有关Cisco Packet Tracer的介绍](https://www.netacad.com/cisco-packet-tracer)并按提示操作即可获取最新版Cisco Packet Tracer软件。

请使用Cisco Packet Tracer 9.0.0或未来版本打开`simple_micro_campus_network.pkt`即可查看、测试和修改。
